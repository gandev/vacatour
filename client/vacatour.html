<head>
  <title>vacatour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.17&libraries=places"></script>
</head>

<body>
  <div class="container-fluid">
    <div class="row navigation-container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
          <a class="navbar-brand">vacatour - plan your round trip vacation</a>
        </div>
      </nav>
    </div>

    <div class="row map-container">
      {{#with currentTour}}
        {{> tour}}
      {{else}}
        <button id="create-new-tour" class="btn btn-success">add new tour</button>
      {{/with}}
    </div>
  </div>
</body>

<template name="tour">
    <div class="col-xs-12 col-sm-7 col-md-8 col-lg-8" style="height: inherit;">
      <div id="map-canvas-{{this._id}}" style="height: inherit;"></div>
      <input id="places-search-{{this._id}}" class="map-controls places-search-input" type="text" placeholder="Search place...">
    </div>

    <div class="col-xs-12 col-sm-5 col-md-4 col-lg-4">
      <ul class="list-group">
        {{#each tourPoints}}
          {{#with routeTo}}
            {{> route}}
          {{/with}}

          {{> tourpoint}}
        {{/each}}
      </ul>
    </div>
</template>

<template name="tourpoint">
  <li class="list-group-item">
    <div class="btn-group">
      <button type="button" class="btn btn-xs btn-default move-tourpoint-up"><span class="glyphicon glyphicon-chevron-up"></span></button>
      <button type="button" class="btn btn-xs btn-default move-tourpoint-down"><span class="glyphicon glyphicon-chevron-down"></span></button>
      <button type="button" class="btn btn-xs btn-default remove-tourpoint"><span class="glyphicon glyphicon-remove"></span></button>
    </div> {{this.name}} <br> {{this.address}}
  </li>
</template>

<template name="route">
  <li class="list-group-item">
    <button type="button" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-search"></span></button> BY: {{this.transport}}
  </li>
</template>
